---
import { MAX_PROJECT_DESCRIPTION_CHARS } from "../../data/content";

interface Props {
  title: string;
  description: string;
  href: string;
  imageClass?: string;
}

const {
  title,
  description,
  href,
  imageClass = ""
} = Astro.props;

const trimmedDescription =
  description.length > MAX_PROJECT_DESCRIPTION_CHARS
    ? `${description.slice(0, MAX_PROJECT_DESCRIPTION_CHARS).trimEnd()}...`
    : description;
const shouldScroll = trimmedDescription.length > 160;
---

<a class="projectCard" href={href} aria-label={`Ver detalles de ${title}`}>
  <div class={`projectMedia ${imageClass}`}></div>
  <div class="projectBody">
    <div class="projectEyebrow">Desarrollo</div>
    <h3 class="projectTitle">{title}</h3>
    <p class="projectDescription">
      <span class={`projectDescriptionText${shouldScroll ? " isScrollable" : ""}`}>
        {trimmedDescription}
      </span>
    </p>
  </div>
</a>
